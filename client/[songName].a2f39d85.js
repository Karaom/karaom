import{S as s,i as e,s as a,e as t,c as n,b as r,d as i,h as l,r as c,j as o,k as u,n as d,m as h,o as m,I as f,J as g,p as v,K as $,q as p,L as y,t as E,g as b,u as I,a as w,C as H,H as D,f as S,D as V,E as L,l as F,B as k,z as q,F as x,M as R,N,O as T,P as O}from"./client.3268cc46.js";import{l as z,S as P}from"./SongSearcher.49ed7c5a.js";function j(s){let e,a;return{c(){e=t("div"),a=t("div"),this.h()},l(s){e=n(s,"DIV",{});var t=r(e);a=n(t,"DIV",{id:!0}),r(a).forEach(i),t.forEach(i),this.h()},h(){l(a,"id","player"),c(e,"isHidden",s[0])},m(s,t){o(s,e,t),u(e,a)},p(s,[a]){1&a&&c(e,"isHidden",s[0])},i:d,o:d,d(s){s&&i(e)}}}function A(s,e,a){let t,n;h(s,m,s=>a(12,t=s)),h(s,f,s=>a(0,n=s));let r,i,l,{song:c}=e,{currentLyric:o}=e,u=!1,d=c.youtubeId,E=0,b=0,I=0,w=0;function H(s,e){const t=`00:${s<10?"0":""}${new Number(Object.keys(c.time)[0].split(".")[0].split(":")[1])-s}.00`;a(1,c.time[t]=e,c)}return g(async()=>{a(3,r=new YT.Player("player",l))}),v(async()=>{u&&d!==c.youtubeId&&(clearInterval(i),r.destroy(),a(3,r=new YT.Player("player",l)),d=c.youtubeId)}),$(async()=>{clearInterval(i)}),s.$set=(s=>{"song"in s&&a(1,c=s.song),"currentLyric"in s&&a(2,o=s.currentLyric)}),s.$$.update=(()=>{6026&s.$$.dirty&&(l={width:"600",height:"400",videoId:c.youtubeId,playerVars:{iv_load_policy:3},events:{onReady:()=>{H(1,"Go!"),H(2,"Ready?"),r.setVolume(75),r.playVideo(),i=setInterval(()=>{a(7,E=r.getCurrentTime()),a(8,b=new Number(E.toFixed(2).split(".")[1])),a(9,I=Math.floor(E%60)),a(10,w=Math.floor(new Number(E.toFixed(1).split(".")[0])/60)),b<10&&a(8,b="0"+b),I<10&&a(9,I="0"+I),w<10&&a(10,w="0"+w),c.time[`${w}:${I}.${b}`]&&a(2,o=c.time[`${w}:${I}.${b}`])},10),u=!0},onStateChange:s=>{if(0===s.data){const s=z.filter(s=>s.youtubeId===t[0])[0];p(m,t=t.filter(e=>e!==s.youtubeId)),y(`music/${s.title.toLowerCase().replace(/\s(\w+)/g,"-$1")}`)}}}})}),[n,c,o]}class B extends s{constructor(s){super(),e(this,s,A,j,a,{song:1,currentLyric:2})}}function C(s){let e,a,c;return{c(){e=t("button"),a=E("Open Full Screen"),this.h()},l(s){e=n(s,"BUTTON",{class:!0});var t=r(e);a=b(t,"Open Full Screen"),t.forEach(i),this.h()},h(){l(e,"class","button is-dark")},m(s,t){o(s,e,t),u(e,a),c=I(e,"click",K)},p:d,i:d,o:d,d(s){s&&i(e),c()}}}async function K(){const s=document.documentElement;s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()}class M extends s{constructor(s){super(),e(this,s,null,C,a,{})}}const{document:U}=R;function Y(s){let e,a,d,h,m,f,g,v,$,p,y,I,R,z,j,A,C,K,Y,_,G,J,Q,W,X,Z,ss,es,as,ts,ns,rs,is,ls,cs,os,us,ds,hs,ms,fs,gs,vs,$s,ps,ys,Es,bs,Is,ws=s[0].title+"",Hs=s[0].artist+"";function Ds(e){s[7].call(null,e)}U.title=e="Playing "+s[0].title+" by "+s[0].artist+" - Karaom";let Ss={song:s[0]};void 0!==s[2]&&(Ss.currentLyric=s[2]);const Vs=new B({props:Ss});N.push(()=>T(Vs,"currentLyric",Ds));const Ls=new M({}),Fs=new P({props:{isSongsQueue:!0,songs:s[3],cardSize:"small",show:1}}),ks=new P({props:{size:"large",songs:s[1]}});return{c(){a=w(),d=t("div"),h=t("div"),m=t("div"),f=w(),g=t("div"),v=t("div"),$=t("h1"),p=E(ws),y=E(" by "),I=E(Hs),R=w(),z=t("div"),H(Vs.$$.fragment),A=w(),C=t("h2"),K=E(s[2]),Y=w(),_=t("a"),G=E("Any issue with lyrics? Report it here"),W=w(),X=t("div"),Z=t("div"),ss=t("div"),es=t("button"),as=t("span"),ts=E("Options"),ns=w(),rs=t("span"),is=t("i"),ls=w(),cs=t("div"),os=t("div"),us=t("div"),H(Ls.$$.fragment),ds=w(),hs=t("div"),ms=t("h1"),fs=E("Song queue"),gs=w(),vs=t("div"),H(Fs.$$.fragment),$s=w(),ps=t("div"),ys=t("h1"),Es=E("Songs List"),bs=w(),H(ks.$$.fragment),this.h()},l(e){D('[data-svelte="svelte-1e0jitv"]',U.head).forEach(i),a=S(e),d=n(e,"DIV",{class:!0});var t=r(d);h=n(t,"DIV",{class:!0});var l=r(h);m=n(l,"DIV",{class:!0}),r(m).forEach(i),f=S(l),g=n(l,"DIV",{class:!0});var c=r(g);v=n(c,"DIV",{class:!0});var o=r(v);$=n(o,"H1",{class:!0});var u=r($);p=b(u,ws),y=b(u," by "),I=b(u,Hs),u.forEach(i),R=S(o),z=n(o,"DIV",{class:!0});var E=r(z);V(Vs.$$.fragment,E),E.forEach(i),A=S(o),C=n(o,"H2",{class:!0});var w=r(C);K=b(w,s[2]),w.forEach(i),Y=S(o),_=n(o,"A",{href:!0,class:!0});var H=r(_);G=b(H,"Any issue with lyrics? Report it here"),H.forEach(i),o.forEach(i),c.forEach(i),W=S(l),X=n(l,"DIV",{class:!0});var L=r(X);Z=n(L,"DIV",{class:!0});var F=r(Z);ss=n(F,"DIV",{class:!0});var k=r(ss);es=n(k,"BUTTON",{class:!0});var q=r(es);as=n(q,"SPAN",{});var x=r(as);ts=b(x,"Options"),x.forEach(i),ns=S(q),rs=n(q,"SPAN",{class:!0});var N=r(rs);is=n(N,"I",{class:!0}),r(is).forEach(i),N.forEach(i),q.forEach(i),k.forEach(i),ls=S(F),cs=n(F,"DIV",{class:!0});var T=r(cs);os=n(T,"DIV",{class:!0});var O=r(os);us=n(O,"DIV",{class:!0});var P=r(us);V(Ls.$$.fragment,P),P.forEach(i),O.forEach(i),T.forEach(i),F.forEach(i),ds=S(L),hs=n(L,"DIV",{class:!0});var j=r(hs);ms=n(j,"H1",{class:!0});var B=r(ms);fs=b(B,"Song queue"),B.forEach(i),gs=S(j),vs=n(j,"DIV",{class:!0});var M=r(vs);V(Fs.$$.fragment,M),M.forEach(i),j.forEach(i),L.forEach(i),l.forEach(i),$s=S(t),ps=n(t,"DIV",{class:!0});var J=r(ps);ys=n(J,"H1",{class:!0});var Q=r(ys);Es=b(Q,"Songs List"),Q.forEach(i),bs=S(J),V(ks.$$.fragment,J),J.forEach(i),t.forEach(i),this.h()},h(){l(m,"class","column"),c(m,"isHidden",s[4]),l($,"class","title animated"),c($,"isHidden",s[4]),l(z,"class","section animated"),l(C,"class","svelte-1lmee0t"),c(C,"title",!s[4]),c(C,"fullScreenTitle",s[4]),l(_,"href",J="https://github.com/Karaom/karaom-public/issues/new?title=%5BLyric%20issue%5D%20Music%20"+s[0].title+"%20by%20"+s[0].artist+"&body=**Explain%20the%20issue%20you%20have%20here:**%20"),l(_,"class","button is-small is-danger animated"),c(_,"isHidden",s[4]),l(v,"class","animated"),l(g,"class",Q="column "+(s[4]?"":"is-7")),l(is,"class","fas fa-angle-down"),l(rs,"class","icon is-small"),l(es,"class","button is-dark"),l(ss,"class","dropdown-trigger"),l(us,"class","dropdown-item"),l(os,"class","dropdown-content is-dark"),l(cs,"class","dropdown-menu is-dark"),l(Z,"class","dropdown is-hoverable"),l(ms,"class","title"),l(vs,"class","small-section"),c(vs,"isHidden",s[4]),l(hs,"class","small-section"),c(hs,"isHidden",s[4]),l(X,"class","column is-5"),c(X,"isHidden",s[4]),l(h,"class","columns"),l(ys,"class","title"),l(ps,"class","small-section"),c(ps,"isHidden",s[4]),l(d,"class","section has-text-centered")},m(s,e){o(s,a,e),o(s,d,e),u(d,h),u(h,m),u(h,f),u(h,g),u(g,v),u(v,$),u($,p),u($,y),u($,I),u(v,R),u(v,z),L(Vs,z,null),u(v,A),u(v,C),u(C,K),u(v,Y),u(v,_),u(_,G),u(h,W),u(h,X),u(X,Z),u(Z,ss),u(ss,es),u(es,as),u(as,ts),u(es,ns),u(es,rs),u(rs,is),u(Z,ls),u(Z,cs),u(cs,os),u(os,us),L(Ls,us,null),u(X,ds),u(X,hs),u(hs,ms),u(ms,fs),u(hs,gs),u(hs,vs),L(Fs,vs,null),u(d,$s),u(d,ps),u(ps,ys),u(ys,Es),u(ps,bs),L(ks,ps,null),Is=!0},p(s,[a]){(!Is||1&a)&&e!==(e="Playing "+s[0].title+" by "+s[0].artist+" - Karaom")&&(U.title=e),16&a&&c(m,"isHidden",s[4]),(!Is||1&a)&&ws!==(ws=s[0].title+"")&&F(p,ws),(!Is||1&a)&&Hs!==(Hs=s[0].artist+"")&&F(I,Hs),16&a&&c($,"isHidden",s[4]);const t={};1&a&&(t.song=s[0]),!j&&4&a&&(j=!0,t.currentLyric=s[2],O(()=>j=!1)),Vs.$set(t),(!Is||4&a)&&F(K,s[2]),16&a&&c(C,"title",!s[4]),16&a&&c(C,"fullScreenTitle",s[4]),(!Is||1&a&&J!==(J="https://github.com/Karaom/karaom-public/issues/new?title=%5BLyric%20issue%5D%20Music%20"+s[0].title+"%20by%20"+s[0].artist+"&body=**Explain%20the%20issue%20you%20have%20here:**%20"))&&l(_,"href",J),16&a&&c(_,"isHidden",s[4]),(!Is||16&a&&Q!==(Q="column "+(s[4]?"":"is-7")))&&l(g,"class",Q);const n={};8&a&&(n.songs=s[3]),Fs.$set(n),16&a&&c(vs,"isHidden",s[4]),16&a&&c(hs,"isHidden",s[4]),16&a&&c(X,"isHidden",s[4]);const r={};2&a&&(r.songs=s[1]),ks.$set(r),16&a&&c(ps,"isHidden",s[4])},i(s){Is||(k(Vs.$$.fragment,s),k(Ls.$$.fragment,s),k(Fs.$$.fragment,s),k(ks.$$.fragment,s),Is=!0)},o(s){q(Vs.$$.fragment,s),q(Ls.$$.fragment,s),q(Fs.$$.fragment,s),q(ks.$$.fragment,s),Is=!1},d(s){s&&i(a),s&&i(d),x(Vs),x(Ls),x(Fs),x(ks)}}}async function _(s,e){const{songName:a}=s.params;return{song:z.filter(s=>s.title.toLowerCase().replace(/\s(\w+)/g,"-$1").trim()===a)[0],songs:z}}function G(s,e,a){let t,n;h(s,m,s=>a(5,t=s)),h(s,f,s=>a(4,n=s));let r,{song:i}=e,{songs:l}=e,c="...";async function o(){p(f,n=null!==(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement))}return g(async()=>{document.addEventListener("fullscreenchange",o,!1),document.addEventListener("webkitfullscreenchange",o,!1),document.addEventListener("mozfullscreenchange",o,!1)}),s.$set=(s=>{"song"in s&&a(0,i=s.song),"songs"in s&&a(1,l=s.songs)}),s.$$.update=(()=>{34&s.$$.dirty&&a(3,r=t.map(s=>l.filter(e=>e.youtubeId===s)[0]))}),[i,l,c,r,n,t,o,function(s){a(2,c=s)}]}export default class extends s{constructor(s){super(),e(this,s,G,Y,a,{song:0,songs:1})}}export{_ as preload};
